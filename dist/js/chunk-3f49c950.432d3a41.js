(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f49c950","chunk-2d21dfc5"],{3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"59ed":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"container"},[n("h1",[e._v("Add New Image")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.saveContact(t)}}},[n("hr"),n("div",{staticClass:"filepond"},[n("file-pond",{ref:"pond",attrs:{name:"test",labelIdle:"Drop files here...",allowMultiple:"true",acceptedFileTypes:"image/jpeg, image/png",files:e.myFiles},on:{init:e.handleFilePondInit}})],1),n("hr"),e._m(0)])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-link",attrs:{type:"submit"}},[e._v("Submit")])])])}],l=(n("6b54"),n("a481"),n("ac6a"),n("7f7f"),n("1501")),a=n.n(l),r=(n("4ed3"),n("57c8"),n("1942")),c=n.n(r),s=n("2cfc"),u=n.n(s),f=(n("8aa5"),n("56d7")),d=(n("d443"),n("ab44"),a()(c.a,u.a)),g=f["storage"].ref(),p={name:"new-gallery",data:function(){return{myFiles:[],uploadTask:"",downloadURL:"",imgname:""}},methods:{handleFilePondInit:function(){console.log("FilePond has initialized")},checkfilepond:function(){var e=this;console.log(this.$refs.pond.getFiles()),console.log(this.$refs.pond.getFiles()[0].file);var t=g.child("gallery/"+this.$refs.pond.getFiles()[0].file.name);t.put(this.$refs.pond.getFiles()[0].file).then(function(e){console.log("UPLOAD IMAGE")}),this.uploadTask=t.put(this.$refs.pond.getFiles()[0].file).then(function(t){g.child("gallery/"+e.$refs.pond.getFiles()[0].file.name).getDownloadURL().then(function(t){e.downloadURL=t,console.log("url OK: ",t)}).catch(function(e){console.log("Getting file url error1111")})})},saveContact:function(){var e=this;console.log(this.$refs.pond.getFiles());var t=this.$refs.pond.getFiles();console.log("From array: ",t[0].file),t.forEach(function(t){var n=g.child("gallery/"+t.file.name);n.put(t.file).then(function(o){console.log("UPLOAD IMAGE"),console.log("FILE CHECK:",t.file),console.log("uploadRef: ",n),console.log("this",e),e.uploadTask=n.put(t.file).then(function(n){console.log("current el3: ",t.file),g.child("gallery/"+t.file.name).getDownloadURL().then(function(t){e.downloadURL=t,console.log("url OK: ",t),f["db"].collection("Gallery").add({downloadURL:e.downloadURL,slug:e.generateUUID()}).then(function(e){console.log("Document written with ID: ",e.id)}).catch(function(e){console.error("Error adding document: ",e)})}).catch(function(e){console.log("Getting file url error222")})})})})},generateUUID:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)});return t},onFileSelected:function(e){console.log("uploadfile"),this.selectedFile=e.target.files[0],console.log("sele: ",this.selectedFile)}},components:{FilePond:d}},h=p,m=(n("fda0"),n("2877")),x=Object(m["a"])(h,o,i,!1,null,"d259b19c",null);t["default"]=x.exports},6013:function(e,t,n){},"6b54":function(e,t,n){"use strict";n("3846");var o=n("cb7c"),i=n("0bfb"),l=n("9e1e"),a="toString",r=/./[a],c=function(e){n("2aba")(RegExp.prototype,a,e,!0)};n("79e5")(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?c(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!l&&e instanceof RegExp?i.call(e):void 0)}):r.name!=a&&c(function(){return r.call(this)})},"7f7f":function(e,t,n){var o=n("86cc").f,i=Function.prototype,l=/^\s*function ([^ (]*)/,a="name";a in i||n("9e1e")&&o(i,a,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(e){return""}}})},ab44:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("file-pond",{ref:"pond",attrs:{name:"test","label-idle":"Drop files here...","allow-multiple":"true","accepted-file-types":"image/jpeg, image/png",server:"/api",files:e.myFiles},on:{init:e.handleFilePondInit}})],1)},i=[],l=n("1501"),a=n.n(l),r=(n("4ed3"),n("57c8"),n("1942")),c=n.n(r),s=n("2cfc"),u=n.n(s),f=a()(c.a,u.a),d={name:"app",data:function(){return{myFiles:["cat.jpeg"]}},methods:{handleFilePondInit:function(){console.log("FilePond has initialized")}},components:{FilePond:f}},g=d,p=n("2877"),h=Object(p["a"])(g,o,i,!1,null,null,null);h.exports},ac6a:function(e,t,n){for(var o=n("cadf"),i=n("0d58"),l=n("2aba"),a=n("7726"),r=n("32e9"),c=n("84f2"),s=n("2b4c"),u=s("iterator"),f=s("toStringTag"),d=c.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(g),h=0;h<p.length;h++){var m,x=p[h],L=g[x],v=a[x],b=v&&v.prototype;if(b&&(b[u]||r(b,u,d),b[f]||r(b,f,x),c[x]=d,L))for(m in o)b[m]||l(b,m,o[m],!0)}},d443:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{attrs:{id:"input-file",type:"file"},on:{change:function(t){return e.uploadFile()}}}),n("hr"),n("img",{attrs:{id:"imgUpload",src:"",width:"100vw"}})])},i=[],l=n("56d7"),a={name:"upload",data:function(){return{files:null}},methods:{uploadFile:function(){var e=document.getElementById("input-file").value;console.log(e);var t=l["storage"].ref(),n=t.child("horse.jpg"),o=o.item(0),i=n.put(o);i.then(function(e){console.log(e);var t=e.downloadURL;document.querySelector("#imgUpload").setAttribute("src",t)})}}},r=a,c=n("2877"),s=Object(c["a"])(r,o,i,!1,null,null,null);t["default"]=s.exports},fda0:function(e,t,n){"use strict";var o=n("6013"),i=n.n(o);i.a}}]);
//# sourceMappingURL=chunk-3f49c950.432d3a41.js.map