(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24a67372","chunk-2d21dfc5"],{3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"386b":function(e,t,n){var i=n("5ca1"),o=n("79e5"),l=n("be13"),a=/"/g,r=function(e,t,n,i){var o=String(l(e)),r="<"+t;return""!==n&&(r+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),r+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(r),i(i.P+i.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},"6b54":function(e,t,n){"use strict";n("3846");var i=n("cb7c"),o=n("0bfb"),l=n("9e1e"),a="toString",r=/./[a],s=function(e){n("2aba")(RegExp.prototype,a,e,!0)};n("79e5")(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?s(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!l&&e instanceof RegExp?o.call(e):void 0)}):r.name!=a&&s(function(){return r.call(this)})},"73e5":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"container"},[n("h1",[e._v("새 냐옹이 아이템이다냥")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.saveContact(t)}}},[n("div",{staticClass:"field"},[n("b-form-input",{staticClass:"border-secondary shadow-none",attrs:{size:"lg",required:"",placeholder:"상품명을 입력하라냥"},model:{value:e.itemName,callback:function(t){e.itemName=t},expression:"itemName"}})],1),n("div",{staticClass:"field"},[n("b-form-input",{staticClass:"border-secondary shadow-none",attrs:{type:"number",required:"",placeholder:"가격이 얼마냥?"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),n("div",{staticClass:"field"},[n("b-form-input",{staticClass:"border-secondary shadow-none",attrs:{type:"text",required:"",placeholder:"링크가 있냥?"},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1),n("div",{staticClass:"field"},[n("b-form-textarea",{staticClass:"border-secondary shadow-none",attrs:{placeholder:"설명이 필요하다냥!",rows:"13","no-resize":"",required:""},model:{value:e.shortIntro,callback:function(t){e.shortIntro=t},expression:"shortIntro"}})],1),n("div",{staticClass:"filepond"},[n("file-pond",{ref:"pond",attrs:{name:"test",labelIdle:"이미지를 올려라냥 @.@",allowMultiple:"true",acceptedFileTypes:"image/jpeg, image/png",files:e.myFiles},on:{init:e.handleFilePondInit}})],1),n("div",{staticClass:"field"},[n("b-button",{staticClass:"button is-link m-3",attrs:{id:"submitbtn",type:"submit",variant:"dark"}},[e._v("올릴거냥?")])],1)])])},o=[],l=(n("6b54"),n("b54a"),n("a481"),n("7f7f"),n("1501")),a=n.n(l),r=(n("4ed3"),n("57c8"),n("1942")),s=n.n(r),c=n("2cfc"),u=n.n(c),d=(n("8aa5"),n("56d7")),f=(n("d443"),n("ab44"),a()(s.a,u.a)),p=d["storage"].ref(),m={name:"new-item",data:function(){return{myFiles:[],uploadTask:"",downloadURL:"",imgname:"",itemName:null,price:null,shortIntro:null,itemlink:null}},methods:{handleFilePondInit:function(){console.log("FilePond has initialized")},saveContact:function(){var e=this;console.log(this.$refs.pond.getFiles()),console.log(this.$refs.pond.getFiles()[0].file);var t=p.child("Goods/"+this.$refs.pond.getFiles()[0].file.name);t.put(this.$refs.pond.getFiles()[0].file).then(function(e){console.log("UPLOAD IMAGE")}),this.uploadTask=t.put(this.$refs.pond.getFiles()[0].file).then(function(t){p.child("Goods/"+e.$refs.pond.getFiles()[0].file.name).getDownloadURL().then(function(t){e.downloadURL=t,console.log("url OK: ",t),d["db"].collection("MarketItemList").add({itemName:e.itemName,price:e.price,shortIntro:e.shortIntro.replace(/(\r\n|\n|\r)/gm,"<br>"),downloadURL:e.downloadURL,link:e.link,slug:e.generateUUID()}).then(function(e){console.log("Document written with ID: ",e.id)}).catch(function(e){console.error("Error adding document: ",e)})}).catch(function(e){console.log("Getting file url error")}),e.$router.replace("/goods")})},generateUUID:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)});return t},onFileSelected:function(e){console.log("uploadfile"),this.selectedFile=e.target.files[0],console.log("sele: ",this.selectedFile)}},components:{FilePond:f}},g=m,h=(n("dffe"),n("2877")),b=Object(h["a"])(g,i,o,!1,null,"5d1109b8",null);t["default"]=b.exports},"7f7f":function(e,t,n){var i=n("86cc").f,o=Function.prototype,l=/^\s*function ([^ (]*)/,a="name";a in o||n("9e1e")&&i(o,a,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(e){return""}}})},a279:function(e,t,n){},ab44:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("file-pond",{ref:"pond",attrs:{name:"test","label-idle":"Drop files here...","allow-multiple":"true","accepted-file-types":"image/jpeg, image/png",server:"/api",files:e.myFiles},on:{init:e.handleFilePondInit}})],1)},o=[],l=n("1501"),a=n.n(l),r=(n("4ed3"),n("57c8"),n("1942")),s=n.n(r),c=n("2cfc"),u=n.n(c),d=a()(s.a,u.a),f={name:"app",data:function(){return{myFiles:["cat.jpeg"]}},methods:{handleFilePondInit:function(){console.log("FilePond has initialized")}},components:{FilePond:d}},p=f,m=n("2877"),g=Object(m["a"])(p,i,o,!1,null,null,null);g.exports},b54a:function(e,t,n){"use strict";n("386b")("link",function(e){return function(t){return e(this,"a","href",t)}})},d443:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{attrs:{id:"input-file",type:"file"},on:{change:function(t){return e.uploadFile()}}}),n("hr"),n("img",{attrs:{id:"imgUpload",src:"",width:"100vw"}})])},o=[],l=n("56d7"),a={name:"upload",data:function(){return{files:null}},methods:{uploadFile:function(){var e=document.getElementById("input-file").value;console.log(e);var t=l["storage"].ref(),n=t.child("horse.jpg"),i=i.item(0),o=n.put(i);o.then(function(e){console.log(e);var t=e.downloadURL;document.querySelector("#imgUpload").setAttribute("src",t)})}}},r=a,s=n("2877"),c=Object(s["a"])(r,i,o,!1,null,null,null);t["default"]=c.exports},dffe:function(e,t,n){"use strict";var i=n("a279"),o=n.n(i);o.a}}]);
//# sourceMappingURL=chunk-24a67372.4ccad99f.js.map